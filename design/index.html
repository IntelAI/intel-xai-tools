<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explainer Design &mdash; Explainer</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/mystnb.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-thebe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.1/mermaid.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
        <script src="../_static/design-tabs.js"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
        <script async="async" src="../_static/sphinx-thebe.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Examples" href="../examples/index.html" />
    <link rel="prev" title="Best Practices" href="../bestpractices/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Intel® Explainable AI Tools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../xai/index.html">Explainable AI Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usecases/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bestpractices/index.html">Best Practices</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Explainer Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Intel® Explainable AI Tools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Explainer Design</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/design/index.md" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="explainer-design">
<span id="design"></span><h1>Explainer Design<a class="headerlink" href="#explainer-design" title="Permalink to this headline"></a></h1>
<p>Explainer adheres to a set of principles based on <a class="reference internal" href="../bestpractices/index.html#bestpractices"><span class="std std-ref">best practices</span></a> and <a href="https://packaging.python.org/en/latest/specifications/" target="_blank">python interoperability specifications</a>. These guideposts allow explainer to keep pace with the rapid rate of innovation within XAI by allowing different types of explanations to be packaged independently of one another. It also allows explainer to be multi-toolkit agnostic by providing explanations that call specific toolkit implementations without binding to these toolkits APIs. Explainer uses the python entry points specification in order to achieve these goals. As noted in the <a href="https://packaging.python.org/en/latest/specifications/entry-points/" target="_blank">python entry points specification</a>:</p>
<blockquote>
<div><p>Entry points are a way for Python packages to advertise objects with some common interface. The most common examples are console_scripts entry points, which define shell commands by identifying a Python function to run. The entrypoints module contains functions to find and load entry points.</p>
</div></blockquote>
<p>Python <a href="https://docs.python.org/3/library/importlib.metadata.html#entry-points" target="_blank">entry points</a> have an associated <a href="https://packaging.python.org/en/latest/specifications/entry-points/#data-model" target="_blank">Data Model</a>. The Data Model provides a way for an entry point instance to be associated with a group, name and object reference.</p>
<p>Entry points are indexed by wheelodex to provide lookup of groups of related plugins, for example pytest defines an entrypoint called pytest11. Under this entrypoint pytest <a href="https://www.wheelodex.org/entry-points/pytest11/" target="_blank">plugins</a> can be registered by different contributors. As shown in <a href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html#entry-points-for-plugins" target="_blank">Entry Points for Plugins</a>, entry points can be used to load plugins which is the basis of explainer’s functionality.</p>
<p>Explainer uses plugins to define what XAI explanation (as well as the specific implementation) will be loaded and called. Explainer’s CLI/API provides import/export mechanisms to bundle XAI functionality as python archives. The python archives are loaded at runtime either implicitly using python’s import statement or explicitly using explainer’s CLI/API. Details are provided in subsequent sections.</p>
<blockquote>
<div><p>explainer prediction explain
explainer text-classification explain</p>
</div></blockquote>
<details>
<summary>Explainer <b>Resources</b></summary>
<br/>
<p>Explainer uses yaml files to locate explainable resources and optionally call their related entry points. Yaml files are located in an explainer package named explainer.explainer.
Within this package are yaml files that explainer uses to load and invoke specific XAI resources.  Running</p>
<blockquote>
<div><p>explainer list</p>
</div></blockquote>
<p>returns a list of yaml files, where each yaml file has attributes that specify what resource to load, along with optional attributes such as the entry_point to call once the resource is loaded. The first line in each yaml files is a YAML annotation that reifies the yaml file as an ExplainerSpec dataclass (see <a href="https://matthewpburruss.com/post/yaml/" target="_blank">PyYaml</a>). The ExplainerSpec dataclass has the following structure show below:</p>
<figure class="align-default" id="id1">
<div class="mermaid">
            classDiagram
    class ExplainerSpec
    ExplainerSpec: +String name
    ExplainerSpec: +String dataset
    ExplainerSpec: +List dependencies
    ExplainerSpec: +String entry_point
    ExplainerSpec: +String model
    ExplainerSpec: +String plugin
        </div><figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">ExplainerSpec</span><a class="headerlink" href="#id1" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p><strong>Utilizing python’s import machinery</strong></p>
<p>Python’s <a href="https://peps.python.org/pep-0451/" target="_blank">PEP451</i></a> (introduced in python-3.4) enhances the import mechanism to be extensible and secure by introducing a type called ModuleSpec that the import machinery instantiates whenever a new module is loaded. This PEP expanded the types of Loaders and MetaPathLoaders that are allowed. Directly importing resources such as yaml is leveraged by the XAI explainer. When a yaml file is imported, the explainer will dynamically inject explainable resources within the current python environemnt by using customized its Loader and MetaPathLoader classes.</p>
<figure class="align-default" id="id2">
<div class="mermaid">
            classDiagram
  Loader &lt;|-- ExplainerLoader
        </div><figcaption>
<p><span class="caption-number">Fig. 7 </span><span class="caption-text">Class Hierarchy of explainer.ExplainerLoader</span><a class="headerlink" href="#id2" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<figure class="align-default" id="id3">
<div class="mermaid">
            classDiagram
  MetaPathFinder &lt;|-- ExplainerMetaPathFinder
        </div><figcaption>
<p><span class="caption-number">Fig. 8 </span><span class="caption-text">Class Hierarchy of explainer.ExplainerMetaPathFinder</span><a class="headerlink" href="#id3" title="Permalink to this image"></a></p>
</figcaption>
</figure>
<p>These classes are called when python resolves imports. As described in <a href="https://python.plainenglish.io/metapathfinders-or-how-to-change-python-import-behavior-a1cf3b5a13ec" target="_blank">How to Change Python Import Behavior with MetaPathFinders</a>, a yaml file can be directly loaded by the import machinary so that the following import statement:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">explainer.explainers</span> <span class="kn">import</span> <span class="n">zero_shot_learning</span>
</pre></div>
</div>
<p>resolves to a yaml file named zero_shot_learing.yaml (rather than a python file) located in the explainer.explainers package. This yaml file is shown below:</p>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm sd-text-black sd-bg-light docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text">zero_shot_learning.yaml</p>
</div>
<div class="sd-card-body docutils">
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>    --- !ExplainerSpec
    name: zero shot learning
    plugin: zero_shot_learning.pkz
    dependencies:
    - shap==0.40.0
    - transformers==4.20.1
    - torch==1.12.0
    entry_point: |  
      # SHAP Explainer
      def entry_point(pipe, text):
        import shap
        print(f&quot;Shap version used: {shap.__version__}&quot;)
        explainer = shap.Explainer(pipe)
        shap_values = explainer(text)
        prediction = pipe(text)
        print(f&quot;Model predictions are: {prediction}&quot;)
        shap.plots.text(shap_values)
        # Let&#39;s visualize the feature importance towards the outcome - sports
        shap.plots.bar(shap_values[0,:,&#39;sports&#39;])
</pre></div>
</div>
</div>
</div>
<p>The set of steps that implicitly injects an explainable resource are shown in the sequence diagram below:</p>
<figure class="align-default" id="id4">
<div class="mermaid">
            sequenceDiagram
    participant ExplainerLoader
    participant zero_shot_learning.yaml
    participant ExplainerSpec
    ExplainerLoader-&gt;&gt;zero_shot_learning.yaml: find yaml file
    zero_shot_learning.yaml-&gt;&gt;ExplainerLoader: load yaml file
    ExplainerLoader-&gt;&gt;ExplainerSpec: create
    ExplainerSpec-&gt;&gt;ExplainerLoader: fields initialized from yaml file
    ExplainerLoader-&gt;&gt;zero_shot_learning.zip: find zip file
    zero_shot_learning.zip-&gt;&gt;ExplainerLoader: extract zip file
    ExplainerLoader-&gt;&gt;ExplainerLoader: add path to sys.path
    ExplainerLoader-&gt;&gt;ExplainerLoader: call entry_point 
        </div><figcaption>
<p><span class="caption-number">Fig. 9 </span><span class="caption-text">Explainer sequence diagram when resolving a yaml file</span><a class="headerlink" href="#id4" title="Permalink to this image"></a></p>
</figcaption>
</figure>
</details>
<details>
<summary>Explainer <b>ModuleSpec</b></summary>
<br/>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExplainerModuleSpec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">explainer.ExplainerSpec</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loader</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">importlib._abc.Loader</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer.html#ExplainerModuleSpec"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Extends the ModuleSpec to add
spec: ExplainerSpec
entry_points: EntryPoints TBD</p>
<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parent</span></span></dt>
<dd><p>The name of the module’s parent.</p>
</dd></dl>

</dd></dl>

</details>
<details>
<summary>Explainer <b>Loader</b></summary>
<br/>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExplainerLoader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">full_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Loads yaml files that hold ExplainerSpec definitions</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spec</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">_frozen_importlib.ModuleSpec</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_frozen_importlib.ModuleSpec</span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.create_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Return a module to initialize and into which to load.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>spec</strong> (<em>ModuleSpec</em>) – Provided ModuleSpec</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ImportError</strong> – Unable to create a ModuleSpec</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ExplainerModuleSpec</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">exec_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_frozen_importlib.ModuleSpec</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.exec_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>needs to reify parts of _module.spec and add them to _module</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>module</strong> (<em>ModuleSpec</em>) – _description_</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>_type_</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_resource_reader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fullname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">importlib.abc.ResourceReader</span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.get_resource_reader"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Required for Loaders that implement resource loading</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fullname</strong> (<em>str</em>) – full name of the resource</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ResourceReader</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_yaml_loader</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">yaml.loader.SafeLoader</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.get_yaml_loader"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Returns the yaml loader for the tag !ExplainerSpec</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>!ExplainerSpec</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Type[SafeLoader]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">load_dataset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.load_dataset"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>loads a dataset</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">load_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fullname</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return the loaded module.</p>
<p>The module must be added to sys.modules and have import-related
attributes set properly.  The fullname is a str.</p>
<p>ImportError is raised on failure.</p>
<p>This method is deprecated in favor of loader.exec_module(). If
exec_module() exists then it is used to provide a backwards-compatible
functionality for this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">load_plugin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.load_plugin"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>loads the plugin specified in the module.spec</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">module</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">explainer.ExplainerModuleSpec</span></em></dt>
<dd><p>Creates an ExplainerModuleSpec</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>ImportError</strong> – Error in yaml file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>subclass of ModuleSpec</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ExplainerModuleSpec</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">module_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return a module’s repr.</p>
<p>Used by the module type when the method does not raise
NotImplementedError.</p>
<p>This method is deprecated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loader</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">yaml.loader.SafeLoader</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">yaml.nodes.MappingNode</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">explainer.ExplainerSpec</span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerLoader.spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Construct a ExplainerSpec</p>
</dd></dl>

</dd></dl>

</details>
<details>
<summary>Explainer <b>MetaPathFinder</b></summary>
<br/>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExplainerMetaPathFinder</span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerMetaPathFinder"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>ExplainerMetaPathFinder imports yaml files that define a
explanation’s model, data, entry_point and plugin path</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">find_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fullname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return a loader for the module.</p>
<p>If no module is found, return None.  The fullname is a str and
the path is a list of strings or None.</p>
<p>This method is deprecated since Python 3.4 in favor of
finder.find_spec(). If find_spec() exists then backwards-compatible
functionality is provided for this method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">find_spec</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fullname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_target</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">module</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">_frozen_importlib.ModuleSpec</span></span></span><a class="reference internal" href="../_modules/explainer.html#ExplainerMetaPathFinder.find_spec"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Returns ExplainerLoader if the path is a yaml file that includes a !ExplainerSpec tag</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fullname</strong> (<em>str</em>) – _description_</p></li>
<li><p><strong>path</strong> (<em>str</em>) – _description_</p></li>
<li><p><strong>_target</strong> (<em>ModuleType</em><em>, </em><em>optional</em>) – _description_. Defaults to None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>_description_</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ModuleSpec</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">invalidate_caches</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>An optional method for clearing the finder’s cache, if any.
This method is used by importlib.invalidate_caches().</p>
</dd></dl>

</dd></dl>

</details>
<details>
<summary>Explainer <b>CLI</b></summary>
<br/>
<p>Explainer CLI</p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Environment</span></span><a class="reference internal" href="../_modules/explainer/cli.html#Environment"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Provides an Environment that can be passed to click subcommands</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer/cli.html#Environment.log"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Logs a message to stderr.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">vlog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer/cli.html#Environment.vlog"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Logs a message to stderr only if verbose is enabled.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ExplainerCLI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invoke_without_command</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_args_is_help</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subcommand_metavar</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chain</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result_callback</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer/cli.html#ExplainerCLI"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>ExplainerCLI inherits from click.MultiCommand</p>
<p>ExplainerCLI will import explainable resources as defined by a yaml file.
The yaml file has fields for model, data, python resources,
and a Callable entry point</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">explainer.cli.Environment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="../_modules/explainer/cli.html#ExplainerCLI.get_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>dynamically loads command if found under commands subdir</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_env</strong> (<em>Environment</em>) – environment that holds context</p></li>
<li><p><strong>cmd_name</strong> (<em>str</em>) – the name of the command to load</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>cli</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">list_commands</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_env</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">explainer.cli.Environment</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="reference internal" href="../_modules/explainer/cli.html#ExplainerCLI.list_commands"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Return the subcommands under the subdir commands/</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>_env</strong> (<em>Environment</em>) – environment that holds context</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>list of commands</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</details>
<details>
<summary>Explainer <b>API</b></summary>
<br/>
<p>Explainer API</p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Explainer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">model</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/explainer/api.html#Explainer"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Explainer API base class</p>
<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">explain</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="../_modules/explainer/api.html#Explainer.explain"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>takes _data and forwards to internal explainer</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>data</strong> – any type of array</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">explainables</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">list</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></em></dt>
<dd><p>Return the list of explainable yaml files</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>list of explainables</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">explainer</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Any</span></em></dt>
<dd><p>Loads the explainer and returns it</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>any explainer for now</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Any</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">export_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yamlpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">explainer.ExplainerModuleSpec</span></span></span><a class="reference internal" href="../_modules/explainer/api.html#Explainer.export_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>creates a pkz file under explainer/explainers with an optional entry_point</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yamlpath</strong> (<em>str</em>) – the yaml file path</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ModuleSpec subclass</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ExplainerModuleSpec</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">import_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yamlpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">explainer.ExplainerModuleSpec</span></span></span><a class="reference internal" href="../_modules/explainer/api.html#Explainer.import_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>Import a yaml file using the ExplainerLoader</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yamlpath</strong> (<em>str</em>) – path to the yaml file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ModuleSpec subclass</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ExplainerModuleSpec</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">yamlpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">explainer.ExplainerModuleSpec</span></span></span><a class="reference internal" href="../_modules/explainer/api.html#Explainer.info"><span class="viewcode-link"><span class="pre">[source]</span></span></a></dt>
<dd><p>shows information about the yaml file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>yamlpath</strong> (<em>str</em>) – path to the yaml file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A ModuleSpec subclass</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>ExplainerModuleSpec</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</details>
<br/>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./design"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../bestpractices/index.html" class="btn btn-neutral float-left" title="Best Practices" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../examples/index.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>