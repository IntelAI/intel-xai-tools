<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Explaining layer predictions via the ecco toolkit &mdash; Explainer</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/togglebutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="../_static/mystnb.css" type="text/css" />
      <link rel="stylesheet" href="../_static/sphinx-thebe.css" type="text/css" />
      <link rel="stylesheet" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/scripts/sphinx-book-theme.js?digest=f31d14ad54b65d19161ba51d4ffff3a77ae00456"></script>
        <script>let toggleHintShow = 'Click to show';</script>
        <script>let toggleHintHide = 'Click to hide';</script>
        <script>let toggleOpenOnPrint = 'true';</script>
        <script src="../_static/togglebutton.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mermaid/8.9.1/mermaid.js"></script>
        <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
        <script src="../_static/design-tabs.js"></script>
        <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
        <script async="async" src="../_static/sphinx-thebe.js"></script>
        <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
        <script>mermaid.initialize({startOnLoad:true});</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Bibliography" href="../bibliography/index.html" />
    <link rel="prev" title="showing layer activations via the ecco toolkit" href="layer_activations.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Intel® Explainable AI Tools
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../xai/index.html">Explainable AI Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usecases/index.html">Use Cases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../requirements/index.html">Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../bestpractices/index.html">Best Practices</a></li>
<li class="toctree-l1"><a class="reference internal" href="../design/index.html">Explainer Design</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="test_import_from.html">Testing explainer</a></li>
<li class="toctree-l2"><a class="reference internal" href="multiclass_classification.html">Explaining text classifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="zero_shot_learning.html">Explaining zero shot learning</a></li>
<li class="toctree-l2"><a class="reference internal" href="layer_activations.html">showing layer activations via the ecco toolkit</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Explaining layer predictions via the ecco toolkit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bibliography/index.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Intel® Explainable AI Tools</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Examples</a> &raquo;</li>
      <li>Explaining layer predictions via the ecco toolkit</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/examples/layer_predictions.ipynb" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="explaining-layer-predictions-via-the-ecco-toolkit">
<h1>Explaining layer predictions via the <a class="reference external" href="https://ecco.readthedocs.io/en/main/">ecco toolkit</a><a class="headerlink" href="#explaining-layer-predictions-via-the-ecco-toolkit" title="Permalink to this headline"></a></h1>
<section id="fill-in-the-blank-heathrow-airport-is-located-in-the-city-of">
<h2>Fill in the blank: “Heathrow airport is located in the city of __”<a class="headerlink" href="#fill-in-the-blank-heathrow-airport-is-located-in-the-city-of" title="Permalink to this headline"></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">explainer.explainers</span> <span class="kn">import</span> <span class="n">layer_predictions</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot; Heathrow airport is in the city of&quot;</span>

<span class="kn">import</span> <span class="nn">entry_point</span>
<span class="n">explainer</span> <span class="o">=</span> <span class="n">entry_point</span><span class="o">.</span><span class="n">entry_point</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><html lang="en">
<script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
<script>
    var ecco_url = 'https://storage.googleapis.com/ml-intro/ecco/'
    //var ecco_url = 'http://localhost:8000/'

    if (window.ecco === undefined) window.ecco = {}

    // Setup the paths of the script we'll be using
    requirejs.config({
        urlArgs: "bust=" + (new Date()).getTime(),
        nodeRequire: require,
        paths: {
            d3: "https://d3js.org/d3.v6.min", // This is only for use in setup.html and basic.html
            "d3-array": "https://d3js.org/d3-array.v2.min",
            jquery: "https://code.jquery.com/jquery-3.5.1.min",
            ecco: ecco_url + 'js/0.0.6/ecco-bundle.min',
            xregexp: 'https://cdnjs.cloudflare.com/ajax/libs/xregexp/3.2.0/xregexp-all.min'
        }
    });

    // Add the css file
    //requirejs(['d3'],
    //    function (d3) {
    //        d3.select('#css').attr('href', ecco_url + 'html/styles.css')
    //    })

    console.log('Ecco initialize!!')

    // returns a 'basic' object. basic.init() selects the html div we'll be
    // rendering the html into, adds styles.css to the document.
    define('basic', ['d3'],
        function (d3) {
            return {
                init: function (viz_id = null) {
                    if (viz_id == null) {
                        viz_id = "viz_" + Math.round(Math.random() * 10000000)
                    }
                    // Select the div rendered below, change its id
                    const div = d3.select('#basic').attr('id', viz_id),
                        div_parent = d3.select('#' + viz_id).node().parentNode

                    // Link to CSS file
                    d3.select(div_parent).insert('link')
                        .attr('rel', 'stylesheet')
                        .attr('type', 'text/css')
                        .attr('href', ecco_url + 'html/0.0.2/styles.css')

                    return viz_id
                }
            }
        }, function (err) {
            console.log(err);
        }
    )
</script>

<head>
    <link id='css' rel="stylesheet" type="text/css">
</head>
<div id="basic"></div>
</div><script type="application/javascript">
         requirejs( ['basic', 'ecco'], function(basic, ecco){
            basic.init('viz_693268') // Python needs to know the viz id. Used for each output token.
            window.ecco['viz_693268'] = new ecco.renderOutputSequence({
                    parentDiv: 'viz_693268',
                    data: {"tokens": [{"token": "Heath", "is_partial": false, "position": 0, "token_id": 25846, "type": "input"}, {"token": "row", "is_partial": true, "position": 1, "token_id": 808, "type": "input"}, {"token": "airport", "is_partial": false, "position": 2, "token_id": 9003, "type": "input"}, {"token": "is", "is_partial": false, "position": 3, "token_id": 318, "type": "input"}, {"token": "in", "is_partial": false, "position": 4, "token_id": 287, "type": "input"}, {"token": "the", "is_partial": false, "position": 5, "token_id": 262, "type": "input"}, {"token": "city", "is_partial": false, "position": 6, "token_id": 1748, "type": "input"}, {"token": "of", "is_partial": false, "position": 7, "token_id": 286, "type": "input"}]},
                    tokenization_config: {"token_prefix": "\u0120", "partial_token_prefix": ""}
            
            })
         }, function (err) {
            console.log(err);
        })
        </script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Setting `pad_token_id` to `eos_token_id`:50256 for open-end generation.
</pre></div>
</div>
<script type="application/javascript">
        // We don't really need these require scripts. But this is to avert
        //this code from running before display_input_sequence which DOES require external files
        requirejs(['basic', 'ecco'], function(basic, ecco){
                console.log('addToken viz_id', 'viz_693268');
                window.ecco['viz_693268'].addToken({"token": "London", "is_partial": false, "token_id": 3576, "position": 8, "type": "output"})
                window.ecco['viz_693268'].redraw()
        })
        </script></div>
</div>
</section>
<section id="visualize-the-candidate-tokens-at-the-last-layer-of-the-model-layer-5">
<h2>Visualize the candidate tokens at the last layer of the model (layer 5)<a class="headerlink" href="#visualize-the-candidate-tokens-at-the-last-layer-of-the-model-layer-5" title="Permalink to this headline"></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">explainer</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><html lang="en">
<script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
<script>
    var ecco_url = 'https://storage.googleapis.com/ml-intro/ecco/'
    //var ecco_url = 'http://localhost:8000/'

    if (window.ecco === undefined) window.ecco = {}

    // Setup the paths of the script we'll be using
    requirejs.config({
        urlArgs: "bust=" + (new Date()).getTime(),
        nodeRequire: require,
        paths: {
            d3: "https://d3js.org/d3.v6.min", // This is only for use in setup.html and basic.html
            "d3-array": "https://d3js.org/d3-array.v2.min",
            jquery: "https://code.jquery.com/jquery-3.5.1.min",
            ecco: ecco_url + 'js/0.0.6/ecco-bundle.min',
            xregexp: 'https://cdnjs.cloudflare.com/ajax/libs/xregexp/3.2.0/xregexp-all.min'
        }
    });

    // Add the css file
    //requirejs(['d3'],
    //    function (d3) {
    //        d3.select('#css').attr('href', ecco_url + 'html/styles.css')
    //    })

    console.log('Ecco initialize!!')

    // returns a 'basic' object. basic.init() selects the html div we'll be
    // rendering the html into, adds styles.css to the document.
    define('basic', ['d3'],
        function (d3) {
            return {
                init: function (viz_id = null) {
                    if (viz_id == null) {
                        viz_id = "viz_" + Math.round(Math.random() * 10000000)
                    }
                    // Select the div rendered below, change its id
                    const div = d3.select('#basic').attr('id', viz_id),
                        div_parent = d3.select('#' + viz_id).node().parentNode

                    // Link to CSS file
                    d3.select(div_parent).insert('link')
                        .attr('rel', 'stylesheet')
                        .attr('type', 'text/css')
                        .attr('href', ecco_url + 'html/0.0.2/styles.css')

                    return viz_id
                }
            }
        }, function (err) {
            console.log(err);
        }
    )
</script>

<head>
    <link id='css' rel="stylesheet" type="text/css">
</head>
<div id="basic"></div>
</div><script type="application/javascript">
         requirejs(['basic', 'ecco'], function(basic, ecco){
            const viz_id = basic.init()


            let pred = new ecco.LayerPredictions({
                parentDiv: viz_id,
                data:[[{"token": " London", "prob": "0.12731317", "ranking": 1, "layer": 5}, {"token": " Birmingham", "prob": "0.08045116", "ranking": 2, "layer": 5}, {"token": " Manchester", "prob": "0.04099102", "ranking": 3, "layer": 5}, {"token": " Belfast", "prob": "0.018735725", "ranking": 4, "layer": 5}, {"token": " Glasgow", "prob": "0.018269068", "ranking": 5, "layer": 5}, {"token": " Leeds", "prob": "0.015156686", "ranking": 6, "layer": 5}, {"token": " Liverpool", "prob": "0.014440063", "ranking": 7, "layer": 5}, {"token": " Sheffield", "prob": "0.012512767", "ranking": 8, "layer": 5}, {"token": " Edinburgh", "prob": "0.012484875", "ranking": 9, "layer": 5}, {"token": " Brighton", "prob": "0.011689237", "ranking": 10, "layer": 5}]]
            })
            pred.init()
         }, function (err) {
            console.log(viz_id, err);
        })</script></div>
</div>
</section>
<section id="we-can-see-more-tokens-using-the-topk-parameter">
<h2>We can see more tokens using the topk parameter<a class="headerlink" href="#we-can-see-more-tokens-using-the-topk-parameter" title="Permalink to this headline"></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">explainer</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">layer</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">topk</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><html lang="en">
<script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
<script>
    var ecco_url = 'https://storage.googleapis.com/ml-intro/ecco/'
    //var ecco_url = 'http://localhost:8000/'

    if (window.ecco === undefined) window.ecco = {}

    // Setup the paths of the script we'll be using
    requirejs.config({
        urlArgs: "bust=" + (new Date()).getTime(),
        nodeRequire: require,
        paths: {
            d3: "https://d3js.org/d3.v6.min", // This is only for use in setup.html and basic.html
            "d3-array": "https://d3js.org/d3-array.v2.min",
            jquery: "https://code.jquery.com/jquery-3.5.1.min",
            ecco: ecco_url + 'js/0.0.6/ecco-bundle.min',
            xregexp: 'https://cdnjs.cloudflare.com/ajax/libs/xregexp/3.2.0/xregexp-all.min'
        }
    });

    // Add the css file
    //requirejs(['d3'],
    //    function (d3) {
    //        d3.select('#css').attr('href', ecco_url + 'html/styles.css')
    //    })

    console.log('Ecco initialize!!')

    // returns a 'basic' object. basic.init() selects the html div we'll be
    // rendering the html into, adds styles.css to the document.
    define('basic', ['d3'],
        function (d3) {
            return {
                init: function (viz_id = null) {
                    if (viz_id == null) {
                        viz_id = "viz_" + Math.round(Math.random() * 10000000)
                    }
                    // Select the div rendered below, change its id
                    const div = d3.select('#basic').attr('id', viz_id),
                        div_parent = d3.select('#' + viz_id).node().parentNode

                    // Link to CSS file
                    d3.select(div_parent).insert('link')
                        .attr('rel', 'stylesheet')
                        .attr('type', 'text/css')
                        .attr('href', ecco_url + 'html/0.0.2/styles.css')

                    return viz_id
                }
            }
        }, function (err) {
            console.log(err);
        }
    )
</script>

<head>
    <link id='css' rel="stylesheet" type="text/css">
</head>
<div id="basic"></div>
</div><script type="application/javascript">
         requirejs(['basic', 'ecco'], function(basic, ecco){
            const viz_id = basic.init()


            let pred = new ecco.LayerPredictions({
                parentDiv: viz_id,
                data:[[{"token": " London", "prob": "0.12731317", "ranking": 1, "layer": 5}, {"token": " Birmingham", "prob": "0.08045116", "ranking": 2, "layer": 5}, {"token": " Manchester", "prob": "0.04099102", "ranking": 3, "layer": 5}, {"token": " Belfast", "prob": "0.018735725", "ranking": 4, "layer": 5}, {"token": " Glasgow", "prob": "0.018269068", "ranking": 5, "layer": 5}, {"token": " Leeds", "prob": "0.015156686", "ranking": 6, "layer": 5}, {"token": " Liverpool", "prob": "0.014440063", "ranking": 7, "layer": 5}, {"token": " Sheffield", "prob": "0.012512767", "ranking": 8, "layer": 5}, {"token": " Edinburgh", "prob": "0.012484875", "ranking": 9, "layer": 5}, {"token": " Brighton", "prob": "0.011689237", "ranking": 10, "layer": 5}, {"token": " Bristol", "prob": "0.010995358", "ranking": 11, "layer": 5}, {"token": " Cov", "prob": "0.009609841", "ranking": 12, "layer": 5}, {"token": " Dund", "prob": "0.00898422", "ranking": 13, "layer": 5}, {"token": " Dublin", "prob": "0.008965835", "ranking": 14, "layer": 5}, {"token": " Newcastle", "prob": "0.008799734", "ranking": 15, "layer": 5}, {"token": " St", "prob": "0.008490494", "ranking": 16, "layer": 5}, {"token": " D", "prob": "0.007897666", "ranking": 17, "layer": 5}, {"token": " Nottingham", "prob": "0.007108594", "ranking": 18, "layer": 5}, {"token": " Toronto", "prob": "0.0069225533", "ranking": 19, "layer": 5}, {"token": " Chelsea", "prob": "0.006834234", "ranking": 20, "layer": 5}]]
            })
            pred.init()
         }, function (err) {
            console.log(viz_id, err);
        })</script></div>
</div>
</section>
<section id="visualize-the-candidate-tokens-at-every-layer">
<h2>Visualize the candidate tokens at every layer<a class="headerlink" href="#visualize-the-candidate-tokens-at-every-layer" title="Permalink to this headline"></a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">explainer</span><span class="p">(</span><span class="n">position</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><html lang="en">
<script src="https://requirejs.org/docs/release/2.3.6/minified/require.js"></script>
<script>
    var ecco_url = 'https://storage.googleapis.com/ml-intro/ecco/'
    //var ecco_url = 'http://localhost:8000/'

    if (window.ecco === undefined) window.ecco = {}

    // Setup the paths of the script we'll be using
    requirejs.config({
        urlArgs: "bust=" + (new Date()).getTime(),
        nodeRequire: require,
        paths: {
            d3: "https://d3js.org/d3.v6.min", // This is only for use in setup.html and basic.html
            "d3-array": "https://d3js.org/d3-array.v2.min",
            jquery: "https://code.jquery.com/jquery-3.5.1.min",
            ecco: ecco_url + 'js/0.0.6/ecco-bundle.min',
            xregexp: 'https://cdnjs.cloudflare.com/ajax/libs/xregexp/3.2.0/xregexp-all.min'
        }
    });

    // Add the css file
    //requirejs(['d3'],
    //    function (d3) {
    //        d3.select('#css').attr('href', ecco_url + 'html/styles.css')
    //    })

    console.log('Ecco initialize!!')

    // returns a 'basic' object. basic.init() selects the html div we'll be
    // rendering the html into, adds styles.css to the document.
    define('basic', ['d3'],
        function (d3) {
            return {
                init: function (viz_id = null) {
                    if (viz_id == null) {
                        viz_id = "viz_" + Math.round(Math.random() * 10000000)
                    }
                    // Select the div rendered below, change its id
                    const div = d3.select('#basic').attr('id', viz_id),
                        div_parent = d3.select('#' + viz_id).node().parentNode

                    // Link to CSS file
                    d3.select(div_parent).insert('link')
                        .attr('rel', 'stylesheet')
                        .attr('type', 'text/css')
                        .attr('href', ecco_url + 'html/0.0.2/styles.css')

                    return viz_id
                }
            }
        }, function (err) {
            console.log(err);
        }
    )
</script>

<head>
    <link id='css' rel="stylesheet" type="text/css">
</head>
<div id="basic"></div>
</div><script type="application/javascript">
         requirejs(['basic', 'ecco'], function(basic, ecco){
            const viz_id = basic.init()


            let pred = new ecco.LayerPredictions({
                parentDiv: viz_id,
                data:[[{"token": " the", "prob": "0.9997209", "ranking": 1, "layer": 0}, {"token": " a", "prob": "0.00026927155", "ranking": 2, "layer": 0}, {"token": " \"", "prob": "5.4316797e-06", "ranking": 3, "layer": 0}, {"token": " '", "prob": "1.2125531e-06", "ranking": 4, "layer": 0}, {"token": " an", "prob": "8.24534e-07", "ranking": 5, "layer": 0}, {"token": " of", "prob": "6.6737215e-07", "ranking": 6, "layer": 0}, {"token": " this", "prob": "4.773116e-07", "ranking": 7, "layer": 0}, {"token": " his", "prob": "1.4616371e-07", "ranking": 8, "layer": 0}, {"token": " their", "prob": "1.1930685e-07", "ranking": 9, "layer": 0}, {"token": " its", "prob": "1.1235751e-07", "ranking": 10, "layer": 0}], [{"token": " the", "prob": "0.99980754", "ranking": 1, "layer": 1}, {"token": " a", "prob": "0.00019153027", "ranking": 2, "layer": 1}, {"token": " its", "prob": "3.0015164e-07", "ranking": 3, "layer": 1}, {"token": " an", "prob": "2.6625614e-07", "ranking": 4, "layer": 1}, {"token": " his", "prob": "1.825383e-07", "ranking": 5, "layer": 1}, {"token": " this", "prob": "9.106306e-08", "ranking": 6, "layer": 1}, {"token": " D", "prob": "4.1995463e-08", "ranking": 7, "layer": 1}, {"token": " of", "prob": "3.5584165e-08", "ranking": 8, "layer": 1}, {"token": " '", "prob": "2.8525353e-08", "ranking": 9, "layer": 1}, {"token": " their", "prob": "1.9372845e-08", "ranking": 10, "layer": 1}], [{"token": " the", "prob": "0.9999951", "ranking": 1, "layer": 2}, {"token": " a", "prob": "1.4820589e-06", "ranking": 2, "layer": 2}, {"token": " his", "prob": "7.3203137e-07", "ranking": 3, "layer": 2}, {"token": " its", "prob": "6.82461e-07", "ranking": 4, "layer": 2}, {"token": " G", "prob": "6.427253e-07", "ranking": 5, "layer": 2}, {"token": " '", "prob": "5.550814e-07", "ranking": 6, "layer": 2}, {"token": " D", "prob": "5.393848e-07", "ranking": 7, "layer": 2}, {"token": " St", "prob": "5.808962e-08", "ranking": 8, "layer": 2}, {"token": " M", "prob": "4.8866287e-08", "ranking": 9, "layer": 2}, {"token": " T", "prob": "2.7987197e-08", "ranking": 10, "layer": 2}], [{"token": " the", "prob": "0.9999993", "ranking": 1, "layer": 3}, {"token": " T", "prob": "4.495385e-07", "ranking": 2, "layer": 3}, {"token": " D", "prob": "1.7348152e-07", "ranking": 3, "layer": 3}, {"token": " a", "prob": "4.7407223e-08", "ranking": 4, "layer": 3}, {"token": " St", "prob": "1.1047171e-08", "ranking": 5, "layer": 3}, {"token": " G", "prob": "1.0344696e-08", "ranking": 6, "layer": 3}, {"token": " K", "prob": "4.9773563e-09", "ranking": 7, "layer": 3}, {"token": " New", "prob": "4.66505e-09", "ranking": 8, "layer": 3}, {"token": " S", "prob": "2.0901194e-09", "ranking": 9, "layer": 3}, {"token": " M", "prob": "1.7636931e-09", "ranking": 10, "layer": 3}], [{"token": " the", "prob": "1.0", "ranking": 1, "layer": 4}, {"token": ",", "prob": "2.743774e-08", "ranking": 2, "layer": 4}, {"token": " a", "prob": "2.3159656e-11", "ranking": 3, "layer": 4}, {"token": " D", "prob": "7.802386e-12", "ranking": 4, "layer": 4}, {"token": "\n", "prob": "8.831381e-13", "ranking": 5, "layer": 4}, {"token": " and", "prob": "2.0331303e-13", "ranking": 6, "layer": 4}, {"token": " in", "prob": "2.0303247e-13", "ranking": 7, "layer": 4}, {"token": "-", "prob": "8.0862156e-14", "ranking": 8, "layer": 4}, {"token": ".", "prob": "4.3994864e-14", "ranking": 9, "layer": 4}, {"token": " T", "prob": "1.1751464e-14", "ranking": 10, "layer": 4}], [{"token": " London", "prob": "0.12731317", "ranking": 1, "layer": 5}, {"token": " Birmingham", "prob": "0.08045116", "ranking": 2, "layer": 5}, {"token": " Manchester", "prob": "0.04099102", "ranking": 3, "layer": 5}, {"token": " Belfast", "prob": "0.018735725", "ranking": 4, "layer": 5}, {"token": " Glasgow", "prob": "0.018269068", "ranking": 5, "layer": 5}, {"token": " Leeds", "prob": "0.015156686", "ranking": 6, "layer": 5}, {"token": " Liverpool", "prob": "0.014440063", "ranking": 7, "layer": 5}, {"token": " Sheffield", "prob": "0.012512767", "ranking": 8, "layer": 5}, {"token": " Edinburgh", "prob": "0.012484875", "ranking": 9, "layer": 5}, {"token": " Brighton", "prob": "0.011689237", "ranking": 10, "layer": 5}]]
            })
            pred.init()
         }, function (err) {
            console.log(viz_id, err);
        })</script></div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./examples"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="layer_activations.html" class="btn btn-neutral float-left" title="showing layer activations via the ecco toolkit" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../bibliography/index.html" class="btn btn-neutral float-right" title="Bibliography" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>